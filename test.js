const options = {
  method: 'POST',
  headers: {
    accept: 'application/json',
    'content-type': 'application/json',
    authorization: 'Bearer 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'
  },
  body: JSON.stringify({
    model: 'mistral-7b-instruct',
    messages: [
      {role: 'system', content: "I'm WebDB, a database IDE. There is a database called \"world\" on a MySQL server. There is a entity with structure : ```CREATE TABLE `city` ( `name` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `lat` double NOT NULL, `lng` double NOT NULL, `country_id` int NOT NULL, `region_code` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL, KEY `fk_city_country_id` (`country_id`), KEY `fk_city_region_code` (`region_code`), CONSTRAINT `fk_city_country_id` FOREIGN KEY (`country_id`) REFERENCES `country` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, CONSTRAINT `fk_city_region_code` FOREIGN KEY (`region_code`) REFERENCES `region` (`code`) ON DELETE CASCADE ON UPDATE CASCADE ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci```and with this associated data : ```[{\"name\":\"Sant Julià de Lòria\",\"lat\":42.46372,\"lng\":1.49129,\"country_id\":1,\"region_code\":null},{\"name\":\"Pas de la Casa\",\"lat\":42.54277,\"lng\":1.73361,\"country_id\":1,\"region_code\":null},{\"name\":\"Ordino\",\"lat\":42.55623,\"lng\":1.53319,\"country_id\":1,\"region_code\":null},{\"name\":\"les Escaldes\",\"lat\":42.50729,\"lng\":1.53414,\"country_id\":1,\"region_code\":null},{\"name\":\"la Massana\",\"lat\":42.54499,\"lng\":1.51483,\"country_id\":1,\"region_code\":null}]```. There is a entity with structure : ```CREATE TABLE `continent` ( `id` int NOT NULL AUTO_INCREMENT, `name` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `unique_continent_name` (`name`) ) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci```and with this associated data : ```[{\"id\":4,\"name\":\"AF\"},{\"id\":5,\"name\":\"AN\"},{\"id\":2,\"name\":\"AS\"},{\"id\":1,\"name\":\"EU\"},{\"id\":3,\"name\":\"NA\"}]```. There is a entity with structure : ```CREATE TABLE `country` ( `name` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `native` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `phone` int NOT NULL, `continent_id` int NOT NULL, `capital` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `id` int NOT NULL AUTO_INCREMENT, PRIMARY KEY (`id`), UNIQUE KEY `unique_country_name` (`name`), KEY `fk_country_continent_id` (`continent_id`), CONSTRAINT `fk_country_continent_id` FOREIGN KEY (`continent_id`) REFERENCES `continent` (`id`) ON DELETE CASCADE ON UPDATE CASCADE ) ENGINE=InnoDB AUTO_INCREMENT=251 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci```and with this associated data : ```[{\"name\":\"Andorra\",\"native\":\"Andorra\",\"phone\":376,\"continent_id\":1,\"capital\":\"Andorra la Vella\",\"id\":1},{\"name\":\"United Arab Emirates\",\"native\":\"دولة الإمارات العربية المتحدة\",\"phone\":971,\"continent_id\":2,\"capital\":\"Abu Dhabi\",\"id\":2},{\"name\":\"Afghanistan\",\"native\":\"افغانستان\",\"phone\":93,\"continent_id\":2,\"capital\":\"Kabul\",\"id\":3},{\"name\":\"Antigua and Barbuda\",\"native\":\"Antigua and Barbuda\",\"phone\":1268,\"continent_id\":3,\"capital\":\"Saint John's\",\"id\":4},{\"name\":\"Anguilla\",\"native\":\"Anguilla\",\"phone\":1264,\"continent_id\":3,\"capital\":\"The Valley\",\"id\":5}]```. There is a entity with structure : ```CREATE TABLE `currency` ( `id` int NOT NULL AUTO_INCREMENT, `name` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `unique_currency_name` (`name`) ) ENGINE=InnoDB AUTO_INCREMENT=163 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci```and with this associated data : ```[{\"id\":2,\"name\":\"AED\"},{\"id\":3,\"name\":\"AFN\"},{\"id\":5,\"name\":\"ALL\"},{\"id\":6,\"name\":\"AMD\"},{\"id\":47,\"name\":\"ANG\"}]```. There is a entity with structure : ```CREATE TABLE `currency_country` ( `id_currency` int NOT NULL, `id_country` int NOT NULL, PRIMARY KEY (`id_currency`,`id_country`), KEY `fk_currency_country_id_country` (`id_country`), CONSTRAINT `fk_currency_country_id_country` FOREIGN KEY (`id_country`) REFERENCES `country` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, CONSTRAINT `fk_currency_country_id_currency` FOREIGN KEY (`id_currency`) REFERENCES `currency` (`id`) ON DELETE CASCADE ON UPDATE CASCADE ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci```and with this associated data : ```[{\"id_currency\":1,\"id_country\":1},{\"id_currency\":2,\"id_country\":2},{\"id_currency\":3,\"id_country\":3},{\"id_currency\":4,\"id_country\":4},{\"id_currency\":4,\"id_country\":5}]```. There is a entity with structure : ```CREATE TABLE `language` ( `id` int NOT NULL AUTO_INCREMENT, `name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `unique_language_name` (`name`) ) ENGINE=InnoDB AUTO_INCREMENT=115 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci```and with this associated data : ```[{\"id\":91,\"name\":\"af\"},{\"id\":52,\"name\":\"am\"},{\"id\":2,\"name\":\"ar\"},{\"id\":28,\"name\":\"ay\"},{\"id\":18,\"name\":\"az\"}]```. There is a entity with structure : ```CREATE TABLE `language_country` ( `id_language` int NOT NULL, `id_country` int NOT NULL, PRIMARY KEY (`id_language`,`id_country`), KEY `fk_language_country_id_country` (`id_country`), CONSTRAINT `fk_language_country_id_country` FOREIGN KEY (`id_country`) REFERENCES `country` (`id`) ON DELETE CASCADE ON UPDATE CASCADE, CONSTRAINT `fk_language_country_id_language` FOREIGN KEY (`id_language`) REFERENCES `language` (`id`) ON DELETE CASCADE ON UPDATE CASCADE ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci```and with this associated data : ```[{\"id_language\":1,\"id_country\":1},{\"id_language\":2,\"id_country\":2},{\"id_language\":3,\"id_country\":3},{\"id_language\":4,\"id_country\":3},{\"id_language\":5,\"id_country\":3}]```. There is a entity with structure : ```CREATE TABLE `language1` ( `id` int NOT NULL AUTO_INCREMENT, `name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `unique_language_name` (`name`) ) ENGINE=InnoDB AUTO_INCREMENT=115 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci```and with this associated data : ```[{\"id\":91,\"name\":\"af\"},{\"id\":52,\"name\":\"am\"},{\"id\":2,\"name\":\"ar\"},{\"id\":28,\"name\":\"ay\"},{\"id\":18,\"name\":\"az\"}]```. There is a entity with structure : ```CREATE TABLE `language2` ( `id` int NOT NULL AUTO_INCREMENT, `name` varchar(200) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, PRIMARY KEY (`id`), UNIQUE KEY `unique_language_name` (`name`) ) ENGINE=InnoDB AUTO_INCREMENT=115 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci```and with this associated data : ```[{\"id\":91,\"name\":\"af\"},{\"id\":52,\"name\":\"am\"},{\"id\":2,\"name\":\"ar\"},{\"id\":28,\"name\":\"ay\"},{\"id\":18,\"name\":\"az\"}]```. There is a entity with structure : ```CREATE TABLE `region` ( `code` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, `name` varchar(250) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NOT NULL, KEY `index_admin_zone_code` (`code`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci```and with this associated data : ```[{\"code\":\"AE.01.102\",\"name\":\"Al Ain Municipality\"},{\"code\":\"AE.01.103\",\"name\":\"Al Dhafra\"},{\"code\":\"AE.04.701\",\"name\":\"Al Fujairah Municipality\"},{\"code\":\"AE.04.702\",\"name\":\"Dibba Al Fujairah Municipality\"},{\"code\":\"AE.06.302\",\"name\":\"Dhaid\"}]```. There is a entity with structure : ```CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`%` SQL SECURITY DEFINER VIEW `test` AS select count(`currency_country`.`id_currency`) AS `COUNT(currency_country.id_currency)`,`currency_country`.`id_country` AS `id_country` from ((`currency_country` join `country` on((`country`.`id` = `currency_country`.`id_country`))) join `currency` on((`currency`.`id` = `currency_country`.`id_currency`))) group by `currency_country`.`id_country` having (1 = 1) limit 0,50```and with this associated data : ```[]```. So you are an expert in database and IT science. Your goal is to provide the most personalize answers. Ask as many questions as need to provide the most accurate answer possible. Don't make presumption, use only provided data. Respond in \"fr-FR\"."},
      {role: 'user', content: 'Explain me the purpose of my database'}
    ]
  })
};

(async () => {
	const r = await fetch('https://api.perplexity.ai/chat/completions', options);
	const msg = await r.json();

	console.log(msg.choices[0].message.content);
})();
