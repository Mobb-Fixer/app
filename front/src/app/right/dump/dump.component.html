<mat-toolbar fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="12px">
	<mat-slide-toggle
		[(ngModel)]="includeData"
		[disabled]="!isSQL()"
		checked
		color="primary">
		Include Data
	</mat-slide-toggle>

	<mat-button-toggle-group
		#group="matButtonToggleGroup">
		<ng-container *ngFor="let fileT of selectedServer!.driver.connection.fileTypes; let i = index">
			<mat-button-toggle [checked]="i === 0" [value]="fileT.extension">{{fileT.name}}</mat-button-toggle>
		</ng-container>
	</mat-button-toggle-group>

	<button (click)="dump(group.value)"
			[disabled]="checklistSelection.isEmpty()"
			color="primary"
			mat-raised-button>
			<span class="material-symbols-outlined notranslate">
				upload
			</span>
		Export
	</button>
</mat-toolbar>

<mat-tree [dataSource]="dataSource"
		  [treeControl]="treeControl"
		  class="example-tree">
	<mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
		<mat-checkbox (change)="checklistSelection.toggle(node);"
					  [checked]="checklistSelection.isSelected(node)"
					  class="checklist-leaf-node"
					  color="primary">
			{{node.name}}
		</mat-checkbox>
	</mat-tree-node>
	<mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
		<div class="mat-tree-node">
			<button mat-icon-button matTreeNodeToggle>
				<mat-icon class="mat-icon-rtl-mirror">
					{{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
				</mat-icon>
			</button>
			<mat-checkbox (change)="itemSelectionToggle(node)"
						  [checked]="descendantsAllSelected(node)"
						  [indeterminate]="descendantsPartiallySelected(node)"
						  color="primary">
				{{node.name}}
			</mat-checkbox>
		</div>
		<div [class.example-tree-invisible]="!treeControl.isExpanded(node)"
			 role="group">
			<ng-container matTreeNodeOutlet></ng-container>
		</div>
	</mat-nested-tree-node>
</mat-tree>
