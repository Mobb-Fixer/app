<mat-toolbar
	fxLayout="row"
	fxLayoutAlign="space-between center">
	<mat-form-field appearance="legacy" style="width: 250px; margin-bottom: -1.25em">
		<input (keyup)="filterChanged(filter.value)"
			   autocomplete="off"
			   matInput
			   #filter
			   placeholder="Search complex or table">
		<button (click)="filterChanged('')"
				*ngIf="filter.value"
				aria-label="Clear" mat-icon-button
				matSuffix>
			<span class="material-symbols-outlined notranslate">close</span>
		</button>
	</mat-form-field>

	<button [matMenuTriggerFor]="list" mat-button>
		Complex supported
	</button>
	<mat-menu #list="matMenu">
		<span mat-menu-item *ngFor="let group of Object.keys(complex)">
			{{group | titlecase}}
		</span>
	</mat-menu>

	<a href="https://docs.webdb.app/complexes"
	   mat-button
	   target="_blank">
		<span class="material-symbols-outlined notranslate">
			dictionary
		</span>
	</a>
</mat-toolbar>

<mat-card *ngIf="complexes.length < 1">
	<mat-card-header>
		<mat-card-subtitle>
			No complex on this database
		</mat-card-subtitle>
	</mat-card-header>
</mat-card>

<div *ngIf="complexes.length > 0" style="padding: 12px">
	<mat-accordion multi>
		<mat-expansion-panel
			*ngFor="let complex of complexes"
			[hidden]="complex.hide">
			<mat-expansion-panel-header>
				<mat-panel-title>
					{{complex.type | titlecase}} {{complex.table ? ' on ' + complex.table : ''}}{{complex.column ? '.' + complex.column : ''}}
				</mat-panel-title>
				<mat-panel-description>
					{{complex.name}}
				</mat-panel-description>
			</mat-expansion-panel-header>
			<pre *ngIf="complex.value"><code
				[languages]="[selectedServer?.driver!.language.id, 'JSON']"
				[highlight]="complex.value">
		</code></pre>
		</mat-expansion-panel>
	</mat-accordion>
</div>

