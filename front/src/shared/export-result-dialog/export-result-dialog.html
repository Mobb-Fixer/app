<div cdkDrag
	 cdkDragRootElement=".cdk-overlay-pane"
	 mat-dialog-title>
	<div style="display: flex">
		<button
			cdkDragHandle
			mat-icon-button
			style="cursor: grab">
			<span class="material-symbols-outlined">
				drag_indicator
			</span>
		</button>
		<h2>Export Results</h2>
	</div>
	<button aria-label="close dialog" mat-dialog-close mat-icon-button>
		<mat-icon>close</mat-icon>
	</button>
</div>

<div mat-dialog-content style="overflow: hidden;">
	<mat-form-field appearance="fill" style="margin-bottom: -1.25em">
		<mat-label>Hide Column</mat-label>
		<mat-select #columnList (selectionChange)="show($event.value)" [ngModel]="columns" multiple>
			<mat-option *ngFor="let column of columns" [value]="column">
				{{column}}
			</mat-option>
		</mat-select>
	</mat-form-field>
	<ngx-monaco-editor
		*ngIf="!isLoading"
		[(ngModel)]="str"
		[options]="editorOptions">
	</ngx-monaco-editor>
</div>
<mat-dialog-actions>
	<mat-button-toggle-group (change)="show(columnList.value)" [(ngModel)]="type">
		<mat-button-toggle value="CSV">CSV</mat-button-toggle>
		<mat-button-toggle value="JSON">JSON</mat-button-toggle>
	</mat-button-toggle-group>
	<button [cdkCopyToClipboard]="str" color="primary" mat-stroked-button>
		Copy
	</button>
	<button (click)="download()" cdkFocusInitial color="primary" mat-flat-button>
		Download
	</button>
</mat-dialog-actions>
